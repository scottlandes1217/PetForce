<% if flash[:alert] || (defined?(resource) && resource&.errors&.any?) %>
  <div
    class="global-top-alert alert alert-danger fade show shadow-sm rounded-3"
    role="alert"
    style="position: fixed; top: 32px; left: 50%; transform: translateX(-50%); z-index: 2000; min-width: 320px; max-width: 420px; font-size: 1rem; padding: 0.75rem 1.25rem; text-align: left;"
    data-controller="global-alert"
  >
    <div>
      <strong>Please fix the following errors:</strong>
      <ul class="mb-0 ps-3" style="font-weight: 500;">
        <% if flash[:alert] %>
          <li><%= flash[:alert] %></li>
        <% end %>
        <% if defined?(resource) && resource&.errors&.any? %>
          <% resource.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        <% end %>
      </ul>
    </div>
    <button
      type="button"
      class="btn-close p-2"
      data-action="global-alert#close"
      aria-label="Close"
      style="position: absolute; top: 0.5rem; right: 0.75rem; font-size: 1.25rem; box-shadow: none; outline: none;"
    ></button>
  </div>
<% end %> 